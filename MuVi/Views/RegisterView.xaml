<themes:ModernWindowBase x:Class="MuVi.Views.RegisterView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:themes="clr-namespace:MuVi.Resources.Themes"
        mc:Ignorable="d"
        Title="MuVi - Register" 
        d:Height="720" 
        d:Width="1280"
        WindowState="Maximized"
        Background="Transparent"
        WindowStartupLocation="CenterScreen"
        Style="{StaticResource ModernWindowStyle}">

    <themes:ModernWindowBase.Resources>
        <ResourceDictionary>
            <Storyboard x:Key="FadeInAnimation">
                <DoubleAnimation Storyboard.TargetName="MainCard"
                               Storyboard.TargetProperty="Opacity"
                               From="0" To="1" 
                               Duration="0:0:0.5"/>
                <ThicknessAnimation Storyboard.TargetName="MainCard"
                                  Storyboard.TargetProperty="Margin"
                                  From="0,50,0,0" To="0,0,0,0"
                                  Duration="0:0:0.5">
                    <ThicknessAnimation.EasingFunction>
                        <CubicEase EasingMode="EaseOut"/>
                    </ThicknessAnimation.EasingFunction>
                </ThicknessAnimation>
            </Storyboard>
        </ResourceDictionary>
    </themes:ModernWindowBase.Resources>

    <themes:ModernWindowBase.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard Storyboard="{StaticResource FadeInAnimation}"/>
        </EventTrigger>
    </themes:ModernWindowBase.Triggers>

    <Grid Background="{StaticResource BackgroundGradientBrush}">

        <!-- Background Decorative Circles -->
        <Canvas>
            <Ellipse Width="500" Height="500" 
                    Canvas.Right="-250" Canvas.Top="-250"
                    Fill="{StaticResource PrimaryPurpleBrush}" 
                    Opacity="0.08"/>
            <Ellipse Width="350" Height="350" 
                    Canvas.Left="-175" Canvas.Bottom="-175"
                    Fill="{StaticResource AccentPinkBrush}" 
                    Opacity="0.08"/>
        </Canvas>

        <Grid x:Name="MainCard">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="450"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left Side - Registration Form -->
            <Border Grid.Column="0" 
                    Style="{StaticResource GlassCard}"
                    Margin="40,40,0,80"
                    Padding="50">
                <Grid>
                    <!-- Register Form -->
                    <StackPanel VerticalAlignment="Center">
                        <!-- Title -->
                        <TextBlock Text="Đăng Ký" TextAlignment="Center"
                                   Style="{StaticResource TitleLabel}"
                                   Margin="0,0,0,40"/>

                        <Grid Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <!-- Username Field -->
                            <StackPanel Grid.Column="0" Margin="0,0,5,0">
                                <TextBlock Text="Tên đăng nhập" 
                                           Style="{StaticResource FormLabel}"/>
                                <TextBox x:Name="txtbUsername"
                                         Style="{StaticResource ModernTextBox}"
                                         Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"/>
                            </StackPanel>

                            <!-- Email Field -->
                            <StackPanel Grid.Column="1" Margin="5,0,0,0">
                                <TextBlock Text="Email" 
                                           Style="{StaticResource FormLabel}"/>
                                <TextBox x:Name="txtbEmail"
                                         Style="{StaticResource ModernTextBox}"
                                         Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"/>
                            </StackPanel>
                        </Grid>

                        <Grid Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <!-- Password Field -->
                            <StackPanel Grid.Column="0" Margin="0,0,5,0">
                                <TextBlock Text="Mật khẩu" 
                                           Style="{StaticResource FormLabel}"/>
                                <PasswordBox x:Name="pwd"
                                             Style="{StaticResource ModernPasswordBox}"
                                             PasswordChanged="pwd_PasswordChanged"/>
                            </StackPanel>

                            <!-- Confirm Password Field -->
                            <StackPanel Grid.Column="1" Margin="5,0,0,0">
                                <TextBlock Text="Xác nhận mật khẩu" 
                                           Style="{StaticResource FormLabel}"/>
                                <PasswordBox x:Name="pwdConfirm"
                                             Style="{StaticResource ModernPasswordBox}"
                                             PasswordChanged="pwdConfirm_PasswordChanged"/>
                            </StackPanel>
                        </Grid>

                        <!-- Terms and Conditions -->
                        <CheckBox Style="{StaticResource ModernCheckBox}"
                                  IsChecked="{Binding AcceptTerms}"
                                  Margin="0,0,0,20">
                            <TextBlock Text="Tôi đồng ý với Điều khoản dịch vụ và Chính sách bảo mật"/>
                        </CheckBox>

                        <!-- Register Button -->
                        <Button Content="Tạo Tài Khoản" 
                                  Style="{StaticResource PrimaryButton}"
                                  Height="48"
                                  Margin="0,0,0,20"
                                  Command="{Binding RegisterCommand}"/>

                        <!-- Divider -->
                        <Grid Margin="0,10,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Border Grid.Column="0" Height="1" 
                                      Background="#3A3A3A" 
                                      VerticalAlignment="Center"/>
                            <TextBlock Grid.Column="1" 
                                         Text="HOẶC" 
                                         Foreground="{StaticResource TextHintBrush}"
                                         FontSize="12"
                                         Margin="15,0"/>
                            <Border Grid.Column="2" Height="1" 
                                      Background="#3A3A3A" 
                                      VerticalAlignment="Center"/>
                        </Grid>

                        <!-- Login Link -->
                        <StackPanel Orientation="Horizontal" 
                                      HorizontalAlignment="Center"
                                      Margin="0,0,0,0">
                            <TextBlock Text="Đã có tài khoản? " 
                                         Foreground="{StaticResource TextSecondaryBrush}"
                                         FontSize="13"/>
                            <TextBlock Text="Đăng nhập" 
                                         Style="{StaticResource LinkLabel}"
                                         MouseLeftButtonDown="txtbLoginLink_MouseLeftButtonDown"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Right Side - Benefits -->
            <Grid Grid.Column="1" Margin="80,0">
                <StackPanel VerticalAlignment="Center">
                    <!-- App Name -->
                    <TextBlock Text="MuVi" 
                               Style="{StaticResource TitleLabel}"
                               FontSize="69"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,0">
                        <TextBlock.Effect>
                            <DropShadowEffect Color="{StaticResource PrimaryPurple}" 
                                              BlurRadius="30" 
                                              ShadowDepth="0" 
                                              Opacity="0.8"/>
                        </TextBlock.Effect>
                    </TextBlock>

                    <!-- Tagline -->
                    <TextBlock Text="MuVi - Nơi điện ảnh kể câu chuyện của bạn" 
                               Style="{StaticResource SubtitleLabel}"
                               FontSize="18"
                               HorizontalAlignment="Center"
                               TextAlignment="Center"
                               LineHeight="28"
                               Margin="0,0,0,60"/>

                    <!-- Features List -->
                    <StackPanel Margin="0,0,0,0" HorizontalAlignment="Center">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                            <Image Source="/Assets/Icons/icons8-heart-48.png" Width="22" Margin="0,0,10,0"/>
                            <TextBlock Text="Kiến tạo vũ trụ phim riêng" 
                   Foreground="{StaticResource TextSecondaryBrush}"
                   FontSize="15" VerticalAlignment="Center"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                            <Image Source="/Assets/Icons/icons8-heart-48.png" Width="22" Margin="0,0,10,0"/>
                            <TextBlock Text="Săn siêu phẩm bom tấn mới" 
                 Foreground="{StaticResource TextSecondaryBrush}"
                 FontSize="15" VerticalAlignment="Center"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Assets/Icons/icons8-heart-48.png" Width="22" Margin="0,0,10,0"/>
                            <TextBlock Text="Trọn vẹn mọi khoảnh khắc" 
                 Foreground="{StaticResource TextSecondaryBrush}"
                 FontSize="15" VerticalAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</themes:ModernWindowBase>